# Test: Solo tocar "Ya llegué"
# Prerequisito: App abierta con alerta activa visible

appId: host.exp.Exponent
---

- launchApp:
    clearState: false

# Si estamos en Expo Go, tocar en Ping
- tapOn:
    text: "Ping"
    optional: true

# Esperar que cargue (Login o Home)
- extendedWaitUntil:
    visible:
      text: "Iniciar sesión|Test User|.*[Bb]uen.*"
    timeout: 30000

# Si estamos en Login, hacer login
- tapOn:
    text: "tu@email.com"
    optional: true
- inputText:
    text: "test@example.com"
    optional: true
- tapOn:
    text: "••••••••"
    optional: true
- inputText:
    text: "password123"
    optional: true
- hideKeyboard:
    optional: true
- tapOn:
    text: "Iniciar sesión"
    optional: true

# Esperar Home
- extendedWaitUntil:
    visible:
      text: ".*[Bb]uen.*|Test User|San Francisco"
    timeout: 20000

- takeScreenshot: "06b_before_tap"

# Tocar directamente el botón Ya llegué (usando testID)
- tapOn:
    id: "btn-arrived"

- extendedWaitUntil:
    visible:
      text: "Sin alertas activas|Crear alerta"
    timeout: 15000

- takeScreenshot: "06b_after_tap"
